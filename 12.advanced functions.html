<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <button onclick="change();" class="start-butt">Start</button>

    <button onclick="addchange();" class="addcart-butt">Add to cart</button>

    <p class="added-js-result"></p>

    <button class="add-btn" onclick="
        messages += 1;
        displayNotification();
    ">add</button>
    <button class="remove" onclick="
         if (messages > 0) {
        messages--;

        // If there are no new messages, stop displaying
        // the notification in the tab.
        if (messages === 0) {
          stopNotification();
        }
      }"
      >remove</button>

    <script>
        // 12 a 
        let add = function(){
            console.log(2+3);
        }
        add();
        add();
        // 12 b
        function runTwice(fun){
            fun();
            fun();
        }
        runTwice(function(){
            console.log('12b');
        });
        runTwice(add);
        // 12 c
        // function change(){
        //     setTimeout(function(){
        //         document.querySelector('.start-butt').innerHTML = 'Finished';
        //     },3000);
        // }

        // 12 d
        
        function change(){
            document.querySelector('.start-butt').innerHTML = 'Loading';
            setTimeout(function(){
                document.querySelector('.start-butt').innerHTML = 'Finished';
            },3000);
        }

        // 12 e , 12f

        let timeoutId;

        function addchange(){
            const addResult = document.querySelector('.added-js-result');
            addResult.innerHTML = "Added";
            clearTimeout(timeoutId);
            timeoutId = setTimeout(function(){
                addResult.innerHTML = '';
            },3000);

        }

        // 12 g

        let messages = 5;
        let intervalId;

        let isdisplayNotification;

        function displayNotification(){

            if(isdisplayNotification){
                return;
            }

            isdisplayNotification = true;

            intervalId = setInterval(function(){
                if(document.title === 'app'){
                    document.title = `(${messages}) New messages`
                }
                else{
                    document.title = 'app';
                }
              },2000);

            }

            function stopNotification(){
                isdisplayNotification = false;

                clearTimeout(intervalId);
                document.title ='app';
              }

            //   12 g

            // practice

            console.log([1,2,3].map((value,index) => {
                return index;
            }));
       
            // 12 j and 12k

            const multiply = () =>{ return 3 * 5};

            console.log(multiply());

            // 12 l

            function countPositive(nums){
                let positivenum = 0;
                nums.forEach((num) => {
                    if(num > 0){
                        positivenum ++
                    }
                });
                return positivenum;
            }

            countPositive([1,2,3]);
            console.log(countPositive([1,2,-3,4,-5,0,0]));

            // 12 m
            function addNum(array,num){
                
                return  array.map(value => value + num);
            }

            console.log(addNum([1,2,3],2));

            function removeEgg(foods){
                
                let eggsRemoved =  0;

                return foods.filter((food) => {
                    if(food === 'egg' && eggsRemoved <2){
                        eggsRemoved++;
                        return false;
                    }
                    else {
                        return true;
                    }
                } ) ;          

            }

            console.log(removeEgg(['apple', 'egg', 'egg', 'ham'])); 







         /** function greet(){
            console.log('hello');
        }

        greet();

        // function inside objects

        const obj = {
            name : 'surya',
            fun : function(){
                console.log('hi');
            }
        };
        obj.fun();

        // funtion inside array

        const arr =['hi',
            function greeting(){
                consol.log('hi inside array');
            }
        ]

        console.log(arr[1]);

        // anonymous function

        const anonymous = function(){
            console.log('anonymous function');
        };

        anonymous();

        // call back function 

        function callback(para){
            para();
        }

        callback(function(){
            console.log('function is stored inside an argument ,argument is acessed as the variable that stores function');
        });

        // set timeout function 

        // Asynchronous execution

        setTimeout(function greet(){
            console.log('hi');
        },3000);


        console.log('hhhhhhh');


        // Set Innterval function

        setInterval(function(){
            console.log('hello I am set interval');
        },5000);
        **/

    </script>
</body>
</html>